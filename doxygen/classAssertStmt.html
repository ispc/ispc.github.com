<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Intel SPMD Program Compiler: AssertStmt Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Intel SPMD Program Compiler
   &#160;<span id="projectnumber">1.4.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classAssertStmt-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AssertStmt Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Representation of an assert statement in the program.  
 <a href="classAssertStmt.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="stmt_8h_source.html">stmt.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for AssertStmt:</div>
<div class="dyncontent">
<div class="center"><img src="classAssertStmt__inherit__graph.png" border="0" usemap="#AssertStmt_inherit__map" alt="Inheritance graph"/></div>
<map name="AssertStmt_inherit__map" id="AssertStmt_inherit__map">
<area shape="rect" id="node2" href="classStmt.html" title="Interface class for statements in the ispc language." alt="" coords="23,80,73,107"/><area shape="rect" id="node4" href="classASTNode.html" title="Abstract base class for nodes in the abstract syntax tree (AST)." alt="" coords="9,5,87,32"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for AssertStmt:</div>
<div class="dyncontent">
<div class="center"><img src="classAssertStmt__coll__graph.png" border="0" usemap="#AssertStmt_coll__map" alt="Collaboration graph"/></div>
<map name="AssertStmt_coll__map" id="AssertStmt_coll__map">
<area shape="rect" id="node2" href="classStmt.html" title="Interface class for statements in the ispc language." alt="" coords="9,307,60,333"/><area shape="rect" id="node4" href="classASTNode.html" title="Abstract base class for nodes in the abstract syntax tree (AST)." alt="" coords="37,229,115,256"/><area shape="rect" id="node12" href="classExpr.html" title="Expr is the abstract base class that defines the interface that all expression types must implement..." alt="" coords="85,307,131,333"/><area shape="rect" id="node6" href="structSourcePos.html" title="Representation of a range of positions in a source file." alt="" coords="33,139,119,165"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8cfe30445d8a127a338525a64b9b2b28"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssertStmt.html#a8cfe30445d8a127a338525a64b9b2b28">AssertStmt</a> (const std::string &amp;msg, <a class="el" href="classExpr.html">Expr</a> *e, <a class="el" href="structSourcePos.html">SourcePos</a> p)</td></tr>
<tr class="memitem:a7bad10cd3efa643d441769b3e5f456bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssertStmt.html#a7bad10cd3efa643d441769b3e5f456bd">EmitCode</a> (<a class="el" href="classFunctionEmitContext.html">FunctionEmitContext</a> *ctx) const </td></tr>
<tr class="memitem:afae5f8fdb6b7d4afcb09a64b2b848c3e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssertStmt.html#afae5f8fdb6b7d4afcb09a64b2b848c3e">Print</a> (int indent) const </td></tr>
<tr class="memitem:ac2f0caef58fb59a7f81618188e3e1956"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStmt.html">Stmt</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssertStmt.html#ac2f0caef58fb59a7f81618188e3e1956">TypeCheck</a> ()</td></tr>
<tr class="memitem:a9a2a6d362badda54fdeb0edd06eb2866"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssertStmt.html#a9a2a6d362badda54fdeb0edd06eb2866">EstimateCost</a> () const </td></tr>
<tr class="inherit_header pub_methods_classStmt"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classStmt')"><img src="closed.png" alt="-"/>&nbsp;Public Member Functions inherited from <a class="el" href="classStmt.html">Stmt</a></td></tr>
<tr class="memitem:acca709ce78df9639545cfd016a41c8cd inherit pub_methods_classStmt"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStmt.html#acca709ce78df9639545cfd016a41c8cd">Stmt</a> (<a class="el" href="structSourcePos.html">SourcePos</a> p)</td></tr>
<tr class="memitem:aaecacb1a64e9d37745353ae731e2b09e inherit pub_methods_classStmt"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classStmt.html">Stmt</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStmt.html#aaecacb1a64e9d37745353ae731e2b09e">Optimize</a> ()</td></tr>
<tr class="inherit_header pub_methods_classASTNode"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classASTNode')"><img src="closed.png" alt="-"/>&nbsp;Public Member Functions inherited from <a class="el" href="classASTNode.html">ASTNode</a></td></tr>
<tr class="memitem:adacd1e72bdef50169988993850670db5 inherit pub_methods_classASTNode"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classASTNode.html#adacd1e72bdef50169988993850670db5">ASTNode</a> (<a class="el" href="structSourcePos.html">SourcePos</a> p)</td></tr>
<tr class="memitem:a41a691f37fa038eb183280effeb8ba4e inherit pub_methods_classASTNode"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classASTNode.html#a41a691f37fa038eb183280effeb8ba4e">~ASTNode</a> ()</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a331997328030949a1663072f88f59f3a"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssertStmt.html#a331997328030949a1663072f88f59f3a">message</a></td></tr>
<tr class="memitem:ad3d757a58f2f3db888ddb28106545cf8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classExpr.html">Expr</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAssertStmt.html#ad3d757a58f2f3db888ddb28106545cf8">expr</a></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Representation of an assert statement in the program. </p>
<p>Like print() above, since we don't have strings as first-class types in the language, we need to do some gymnastics to support it. Like assert() in C, assert() checks the given condition and prints an error and calls abort if the condition fails. For varying conditions, the assert triggers if it's true for any of the program instances. </p>

<p>Definition at line <a class="el" href="stmt_8h_source.html#l00463">463</a> of file <a class="el" href="stmt_8h_source.html">stmt.h</a>.</p>
</div><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a8cfe30445d8a127a338525a64b9b2b28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AssertStmt::AssertStmt </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classExpr.html">Expr</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSourcePos.html">SourcePos</a>&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stmt_8cpp_source.html#l03130">3130</a> of file <a class="el" href="stmt_8cpp_source.html">stmt.cpp</a>.</p>

</div>
</div>
<h2>Member Function Documentation</h2>
<a class="anchor" id="a7bad10cd3efa643d441769b3e5f456bd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AssertStmt::EmitCode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classFunctionEmitContext.html">FunctionEmitContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Emit LLVM IR for the statement, using the <a class="el" href="classFunctionEmitContext.html">FunctionEmitContext</a> to create the necessary instructions. </p>

<p>Implements <a class="el" href="classStmt.html#a018a0d7fc9a5db8a319bda3d87a9c15f">Stmt</a>.</p>

<p>Definition at line <a class="el" href="stmt_8cpp_source.html#l03136">3136</a> of file <a class="el" href="stmt_8cpp_source.html">stmt.cpp</a>.</p>

<p>References <a class="el" href="ispc_8h_source.html#l00162">AssertPos</a>, <a class="el" href="ctx_8cpp_source.html#l03289">FunctionEmitContext::CallInst()</a>, <a class="el" href="util_8cpp_source.html#l00387">Error()</a>, <a class="el" href="module_8h_source.html#l00144">Module::errorCount</a>, <a class="el" href="stmt_8h_source.html#l00476">expr</a>, <a class="el" href="ispc_8h_source.html#l00134">SourcePos::first_column</a>, <a class="el" href="ispc_8h_source.html#l00133">SourcePos::first_line</a>, <a class="el" href="ctx_8cpp_source.html#l00393">FunctionEmitContext::GetCurrentBasicBlock()</a>, <a class="el" href="ctx_8cpp_source.html#l00417">FunctionEmitContext::GetFullMask()</a>, <a class="el" href="ctx_8cpp_source.html#l01416">FunctionEmitContext::GetStringPtr()</a>, <a class="el" href="classExpr.html#a8451d4988f430bea94e354dc44e6b094">Expr::GetType()</a>, <a class="el" href="classExpr.html#a2bc3d2bff41746985dd2b07d0637d7e8">Expr::GetValue()</a>, <a class="el" href="type_8h_source.html#l00145">Type::IsUniformType()</a>, <a class="el" href="ispc_8cpp_source.html#l00083">m</a>, <a class="el" href="stmt_8h_source.html#l00474">message</a>, <a class="el" href="module_8h_source.html#l00151">Module::module</a>, <a class="el" href="ispc_8h_source.html#l00132">SourcePos::name</a>, and <a class="el" href="ast_8h_source.html#l00076">ASTNode::pos</a>.</p>

</div>
</div>
<a class="anchor" id="a9a2a6d362badda54fdeb0edd06eb2866"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int AssertStmt::EstimateCost </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Estimate the execution cost of the node (not including the cost of the children. The value returned should be based on the COST_* enumerant values defined in <a class="el" href="ispc_8h.html" title="Main ispc.header file. Defines Target, Globals and Opt classes.">ispc.h</a>. </p>

<p>Implements <a class="el" href="classASTNode.html#add2ef84b57f0cda15ae3c7ad983ff909">ASTNode</a>.</p>

<p>Definition at line <a class="el" href="stmt_8cpp_source.html#l03201">3201</a> of file <a class="el" href="stmt_8cpp_source.html">stmt.cpp</a>.</p>

<p>References <a class="el" href="ispc_8h_source.html#l00586">COST_ASSERT</a>.</p>

</div>
</div>
<a class="anchor" id="afae5f8fdb6b7d4afcb09a64b2b848c3e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AssertStmt::Print </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>indent</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Print a representation of the statement (and any children <a class="el" href="classAST.html">AST</a> nodes) to standard output. This method is used for debuggins. </p>

<p>Implements <a class="el" href="classStmt.html#a7b6b1da806030d303eaaf3ca4b09df61">Stmt</a>.</p>

<p>Definition at line <a class="el" href="stmt_8cpp_source.html#l03180">3180</a> of file <a class="el" href="stmt_8cpp_source.html">stmt.cpp</a>.</p>

<p>References <a class="el" href="stmt_8h_source.html#l00474">message</a>.</p>

</div>
</div>
<a class="anchor" id="ac2f0caef58fb59a7f81618188e3e1956"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStmt.html">Stmt</a> * AssertStmt::TypeCheck </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="classType.html" title="Interface class that defines the type abstraction.">Type</a> checking should be performed by the node when this method is called. In the event of an error, a NULL value may be returned. As with <a class="el" href="classASTNode.html#aebe510bd406956a389354e1123eaccb2">ASTNode::Optimize()</a>, the caller should store the returned pointer in place of the original <a class="el" href="classASTNode.html" title="Abstract base class for nodes in the abstract syntax tree (AST).">ASTNode</a> *. </p>

<p>Implements <a class="el" href="classStmt.html#ac5c4a3c76cff2fc30edd78a63043faf3">Stmt</a>.</p>

<p>Definition at line <a class="el" href="stmt_8cpp_source.html#l03186">3186</a> of file <a class="el" href="stmt_8cpp_source.html">stmt.cpp</a>.</p>

<p>References <a class="el" href="stmt_8h_source.html#l00476">expr</a>, <a class="el" href="classExpr.html#a8451d4988f430bea94e354dc44e6b094">Expr::GetType()</a>, <a class="el" href="type_8h_source.html#l00145">Type::IsUniformType()</a>, <a class="el" href="expr_8cpp_source.html#l00584">TypeConvertExpr()</a>, <a class="el" href="type_8h_source.html#l00336">AtomicType::UniformBool</a>, and <a class="el" href="type_8h_source.html#l00336">AtomicType::VaryingBool</a>.</p>

</div>
</div>
<h2>Member Data Documentation</h2>
<a class="anchor" id="ad3d757a58f2f3db888ddb28106545cf8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classExpr.html">Expr</a>* AssertStmt::expr</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The expression to be evaluated (that is asserted to be true). </p>

<p>Definition at line <a class="el" href="stmt_8h_source.html#l00476">476</a> of file <a class="el" href="stmt_8h_source.html">stmt.h</a>.</p>

<p>Referenced by <a class="el" href="stmt_8cpp_source.html#l03136">EmitCode()</a>, <a class="el" href="stmt_8cpp_source.html#l03186">TypeCheck()</a>, and <a class="el" href="ast_8cpp_source.html#l00074">WalkAST()</a>.</p>

</div>
</div>
<a class="anchor" id="a331997328030949a1663072f88f59f3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string AssertStmt::message</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Message to print if the assertion fails. </p>

<p>Definition at line <a class="el" href="stmt_8h_source.html#l00474">474</a> of file <a class="el" href="stmt_8h_source.html">stmt.h</a>.</p>

<p>Referenced by <a class="el" href="stmt_8cpp_source.html#l03136">EmitCode()</a>, and <a class="el" href="stmt_8cpp_source.html#l03180">Print()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="stmt_8h_source.html">stmt.h</a></li>
<li><a class="el" href="stmt_8cpp_source.html">stmt.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Jul 20 2013 05:53:15 for Intel SPMD Program Compiler by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
